<!doctype html>
<html>
  <head>
    <title>testing testing 123</title>
    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    <script src="https://cdn.auth0.com/js/lock/10.20.0/lock.min.js"></script>
    <script>
    // Initializing our Auth0Lock
      var lock = new Auth0Lock(
        'iktRj1eHMrCkl2bo1bQXYAhbaxq-kbjG',
        'franz.auth0.com'
      );
      
      // Listening for the authenticated event
      lock.on("authenticated", function(authResult) {
        // Use the token in authResult to getUserInfo() and save it to localStorage
        lock.getUserInfo(authResult.accessToken, function(error, profile) {
          if (error) {
            // Handle error
            return;
          }
          if (!error){
            document.getElementById('hobby').textContent = profile.user_metadata.hobby;
          }
          document.getElementById('nick').textContent = profile.nickname;
          localStorage.setItem('accessToken', authResult.accessToken);
          localStorage.setItem('profile', JSON.stringify(profile));
        });
      });
      var settings = {
        "async": true,
        "crossDomain": true,
        "url": "https://franz.auth0.com/oauth/token",
        "method": "POST",
        "headers": {
          "content-type": "application/json"
        },
        "processData": false,
        "data": "{\"grant_type\":\"client_credentials\",\"client_id\": \"iktRj1eHMrCkl2bo1bQXYAhbaxq-kbjG\",\"client_secret\": \"gV7tEKU3wDZj-vxUlONhiga_P7sFO6e00Y1M4ENkrM2B0g0LVNlM06ylF90qLSgc\",\"audience\": \"https://franz.auth0.com/api/v2/\"}"
      }
      
      $.ajax(settings).done(function (response) {
        console.log(response);
});
    </script>
  </head>
  <body>
    <h2>Welcome <span id="nick" class="nickname"></span></h2>
    <button onclick="lock.show();">Login</button>
    <button onclick="friedrich();">Login</button>
    <span id="hobby"></span>
  </body>
</html>
